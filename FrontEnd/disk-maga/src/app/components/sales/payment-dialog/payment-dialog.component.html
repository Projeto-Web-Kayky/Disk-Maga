<mat-dialog-content class="dialog-content">
    <!-- Cabeçalho  -->
    <div class="header">
        <div class="title">
            <span>{{ data.hasUnselectedProducts ? 'Pagamento Parcial' : 'Finalizar Pagamento' }}</span>
            <small *ngIf="data.hasUnselectedProducts">
                Pagando {{ data.selectedCount }} de {{ data.totalCount }} produtos
            </small>
        </div>
        <div class="price">
            {{ formatCurrency(data.selectedTotal) }}
        </div>

    </div>

    <mat-divider></mat-divider>

    <!-- Cards Pagamento  -->
    <div class="payment-method">
        <button
            [class.selected]="isSelected(Payment.DINHEIRO)"
            (click)="selectPaymentMethod(Payment.DINHEIRO)"
        >
            <mat-icon>payments</mat-icon>
            <span>Dinheiro</span>
        </button>

        <button
            [class.selected]="isSelected(Payment.PIX)"
            (click)="selectPaymentMethod(Payment.PIX)"
        >
            <mat-icon>qr_code_scanner</mat-icon>
            <span>Pix</span>
        </button>

        <button
            [class.selected]="isSelected(Payment.CARTAO)"
            (click)="selectPaymentMethod(Payment.CARTAO)"
        >
            <mat-icon>credit_card</mat-icon>
            <span>Cartão</span>
        </button>

        <button
            [class.selected]="isSelected(Payment.FIADO)"
            (click)="selectPaymentMethod(Payment.FIADO)"
        >
            <mat-icon>person</mat-icon>
            <span>Conta do Cliente</span>
        </button>
    </div>
    <mat-divider></mat-divider>

    <!-- Rodapé  -->
    <div class="footer">
        <div class="value">
            <div class="total-info">
                <div class="current-payment">
                    <span>Valor a pagar</span>
                    <span class="price-primary">{{ formatCurrency(data.selectedTotal) }}</span>
                </div>

                <div *ngIf="data.hasUnselectedProducts" class="remaining-payment">
                    <span class="label">Restante após pagamento</span>
                    <span class="price remaining">{{ formatCurrency(data.remainingTotal) }}</span>
                </div>
                
            </div>
            
        </div>

        <div class="continue">
            <button 
                mat-fab 
                extended 
                (click)="continue()"
                [disabled]="selectedPayment === null"
                class="continue-btn">
                <span>{{ data.hasUnselectedProducts ? 'Pagar Selecionados' : 'Finalizar Venda' }}</span>
                <mat-icon>{{ data.hasUnselectedProducts ? 'arrow_forward' : 'check' }}</mat-icon>
            </button>
        </div>
    </div>
</mat-dialog-content>
